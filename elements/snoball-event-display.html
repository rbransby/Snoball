<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="snoball-event-display">
  <template>
    <style>
      /* TODO: add CSS */
    </style>

    <paper-icon-item>
      <div class="avatar raceIcon" item-icon>{{item.RaceNumber}}</div>
      <paper-item-body two-line>
        <div>
          {{item.eventType}}
        </div>
        <div secondary>
          {{calculateSecondaryDisplay(item)}}
        </div>
      </paper-item-body>
    </paper-icon-item>
  </template>

  <script>
    "use strict";
    class SnoballEventDisplay {
      beforeRegister() {
        this.is = 'snoball-event-display';
        this.properties = {
          item: {
            type: Object,
            value: {}
          }
        };
      }
      created() {}
      ready() {
              
      }
      attached() {}
      detached() {}
      attributeChanged() {}

      calculateSecondaryDisplay(item) {
        if (item != null)
        {
          // if it's a chat message, just display the payload text
          if (item.eventType == 'snoball-chat')
          {
            return item.payload;
          }
          else if (item.eventType == 'snoball-new-game')
          {
            return `Numbers: ${item.payload.Numbers} Target: ${item.payload.Target}`;
          }
        }
      }
      
    }
    
    Polymer(SnoballEventDisplay);
  </script>
</dom-module>